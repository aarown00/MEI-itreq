{% extends "base.html" %}

{% block content %}

<style>
    /* Styles for the login card */
.login-card {
    max-width: 450px;
    margin: 0 auto;
    margin-top: 200px;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
    color: #333333;
    background-color: #ffffff;
    text-align: center;
}

/* Ensuring form controls within the login card have the correct styles */
.login-card .form-control {
    background-color: #ffffff; /* Set background color to white */
    color: #333333; /* Set text color */
    border: 1px solid #ccc; /* Add a border for better visibility */
    padding: 10px; /* Add padding for better appearance */
    width: 100%; /* Ensure full width */
    box-sizing: border-box; /* Include padding and border in the element's total width and height */
    margin-bottom: 10px; /* Add margin for spacing between form controls */
    transition: background-color 0.3s, border-color 0.3s; /* Smooth transition for focus */
}

/* Focus and active states for form controls within the login card */
.login-card .form-control:focus,
.login-card .form-control:active {
    background-color: #ffffff !important; /* Ensure background color stays white when focused or active */
    color: #333333 !important; /* Ensure text color remains consistent */
    border-color: #333333; /* Optional: Change border color when focused */
    outline: none; /* Remove the default outline */
}

/* Placeholder styling */
.login-card .form-control::placeholder {
    color: #999999;
}

/* Button styling */
.btn-secondary {
    background-color: #333333;
    color: #ffffff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    width: 100%; /* Ensure full width */
}

.btn-secondary:hover {
    background-color: #555555;
}

/* Heading styling */
.login-card h1 {
    color: #333333;
    margin-bottom: 20px;
}
</style>


{% if user.is_authenticated %}
<h1>IT Request Dashboard</h1> <br/>
<table class="table table-hover">
    <thead class="table-primary">
      <tr>
        <th scope="col">Requestor Full Name</th>
        <th scope="col">Requestor Email</th>
        <th scope="col">Requestor Employee ID</th>
        <th scope="col">PIC</th>
        <th scope="col">PC Name</th>
        <th scope="col">PC Type</th>
        <th scope="col">Department</th>
        <th scope="col">Issue</th>
        <th scope="col">Description</th>
        <th scope="col">Requested At</th>
      </tr>
    </thead>
    <tbody>
      
  {% if it_requests %}
      {% for it_request in it_requests %}
        <tr class="table-light">
              <td>{{ it_request.user.first_name }} {{ it_request.user.last_name }}</td>
              <td>{{ it_request.user.email }}</td>
              <td>{{ it_request.user.username }}</td>
              <td>{{ it_request.PIC }}</td>
              <td>{{ it_request.PC_name }}</td>
              <td>{{ it_request.pc_type }}</td>
              <td>{{ it_request.department }}</td>
              <td>{{ it_request.issue }}</td>
              <td>{{ it_request.description }}</td>
              <td>{{ it_request.requested_at }}</td>
              
          </tr>
      {% endfor %}
  
  {% endif %}
  
      
        </tbody>
      </table>
  
{% else %}




<div class="login-card">
    <h1>Login</h1>

    <form method="POST" action="{% url 'home' %}">
        {% csrf_token %}

        <div class="mb-3">
            <input type="text" class="form-control" name="username" placeholder="Username" required>
        </div><br/>
        <div class="mb-3">
            <input type="password" class="form-control" name="password" placeholder="Password" required>
        </div>
        <br/>
        <button type="submit" class="btn btn-secondary btn-login">Continue</button>

    </form>
</div>

{% endif%}
{% endblock %}
